syntax = "proto3";

package ltlfuzz;

option go_package = "gen/ltlfuzz;ltlfuzzpb";

service FuzzService {
  // Returns a status message along with a generated uuid for the session.
  rpc PrepareLTLProperties(LTLList) returns (Status);
  // Requires a uuid in the request along with the trace.
  rpc SubmitTrace(TraceInput) returns (CheckResult);
}

message LTLList {
  repeated string properties = 1;
  repeated string exclude = 2;
}

message TraceInput {
  string trace = 1;
  string uuid = 2; // session identifier provided by PrepareLTLProperties
}

message CheckResult {
  bool satisfied = 1;
  repeated string violations = 2;
}

message Status {
  string message = 1;
  string uuid = 2; // session identifier generated by the server
}
